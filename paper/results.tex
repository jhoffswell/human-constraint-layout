%!TEX root = human-constraint-layout.tex
\section{Results}
Now that we have described the design and implementation of our high-level constraint language, we will demonstrate the utility of this technique through a number of example use cases. We chose these examples to highlight both common layout techniques and highly domain specific layouts.

\subsection{Tree Layouts}
\treeLayout
\serengetiLayout
Trees are one example of a common layout technique that is often addressed in visualization tools \cite{bostock:d3,WebCoLa,ellson2001graphviz}. The basic tree layout from Figure \ref{fig:small-tree} is shown on three trees of varying sizes in Figure \ref{fig:tree-layout}. Our constraints specifications are highly compact, allowing users to concisely communicate complex layouts. While the layouts produced by these specifications can be highly customized to a particular graph, the layouts are also reusable across graph specifications allowing users to easily reapply the same layout to multiple graphs.

\subsection{Food Webs}
\smallFoodWebLayout
Food webs visualize complex producer-consumer relationships in ecological systems and are a common presentation strategy for this information despite the challenge of creating an informative visualization \cite{baskerville2011spatial,lavigne1996cod}. There are many examples of small food webs, which could easily be created by hand, but we show a simple constraint specification in Figure \ref{fig:small-foodweb-layout}. However, this is just a small example of a food web, whereas the webs are often much more complex.

Baskerville et al. use a Bayesian analysis method to identify group structure for the Serengeti food web and provide a customized layout of their results showing both the hierarchy between groups and clustering \cite{baskerville2011spatial}. To demonstrate the utility of our technique, we recreate this layout using our constraint language Figure \ref{fig:serengeti-layout}. The original food web visualization was produced by the authors using D3; our recreation includes six high-level constraints with a total of 10 layout constraints, which creates 6,330 WebCoLa constraints.

\serengetiIterations
\tlrFourLayout
For the final layout shown in Figure \ref{fig:serengeti-layout}, we performed a few modifications on the generated layout (Figure \ref{fig:serengeti-iterations}b,c) to add additional spacing in the hierarchy using the temporary nodes and force some problematic nodes to meet our constraints. This example proved to be a useful debugging use case as well. The original graph specification represented the group as a string (\texttt{"group":"13"}), which caused the layout to sort the layers alphabetically (Figure \ref{fig:serengeti-iterations}a). Using the debugging tools described in Section \ref{sec:debugging}, we were able to highlight the constraints of interest to verify that they were producing the expected layout and thus observed the alphabetic rather than numeric sorting of the layers. To resolve this issue, we recomputed the graph specification to use numbers for the groups rather than strings. Alternatively, we could have used the \texttt{"order"} property to specify our desired ordering. Future work may want to explore more powerful ways to specify the desired ordering of the nodes or sets.

\subsection{Biological Networks}
Cerebral \cite{barsky2007cerebral} is a system for the layout and analysis of biological systems. The authors note that existing ``tools did not fully meet the needs of our immunologist collaborators'' as motivation for the design of their system. In order to examine the feasibility of our constraint language for highly domain specific tasks, we recreated the TLR4 graph shown in \cite{barsky2007cerebral} using our language. The constraint specification, layout, and Cerebral graph are shown in Figure \ref{fig:tlr4-layout}.

This constraint specification demonstrates a number of the techniques supported by our constraint language. In particular, the user adds an \texttt{"exclude"} statement to remove the nodes with an \texttt{"unknown"} type from the layout (these are the gray nodes in teh graph). To produce the hierarhical layout that reflects the underlying biological system, the user simply applies a custom ordering on the types of the nodes for this graph. The main difference between our layout and the one prodcued by Cerebral is that our layout more strongly penalizes vertical distance which causes the graph to compress into thinner layers. Future work will explore how to better tune these properties to provide unconstrainted movement of nodes within the bounds provided by our constraints.
